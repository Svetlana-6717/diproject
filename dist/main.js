(()=>{"use strict";(()=>{const e=document.querySelectorAll(".callback-btn"),t=document.querySelector(".modal-callback"),l=document.querySelector(".modal-overlay"),o=document.querySelector("form[name = form-callback]"),c=o.querySelectorAll(".form-control"),r=o.querySelector(".message");e.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),l.style.display="block",t.style.display="block"}))})),l.addEventListener("click",(e=>{let o=e.target;"IMG"===o.tagName?(l.style.display="none",t.style.display="none",c.forEach((t=>{e.target&&(t.value="",t.style.cssText="border: 2px solid #E3E3E4; margin-bottom: 20px",t.nextElementSibling.textContent="")})),r.textContent=""):(o=o.closest(".modal-callback"),o||(l.style.display="none",t.style.display="none",c.forEach((t=>{e.target&&(t.value="",t.style.cssText="border: 2px solid #E3E3E4; margin-bottom: 20px",t.nextElementSibling.textContent="")})),r.textContent=""))}))})(),(()=>{const e=document.querySelector(".top-menu"),t=e.querySelectorAll("li>a"),l=document.getElementById("services"),o=document.getElementById("faq"),c=document.getElementById("contacts");let r=[];r.push(l,o,c);e.addEventListener("click",(e=>{e.preventDefault();let l=e.target;"A"===l.tagName&&(e=>{r.forEach.call(r,((t,l)=>{if(l===e){let e,l=t.getBoundingClientRect().top-100;if(e=l<0?-1:l>0?1:0,0===e)return;((e,t)=>{let l=(new Date).getTime();const o=()=>{let c=e.getBoundingClientRect().top-100,r=(new Date).getTime()-l,a=Math.round(c*r/24e3);a=a>t*c?c:0===a?t:a,t*c>0&&(window.scrollBy(0,a),requestAnimationFrame(o))};requestAnimationFrame(o)})(t,e)}}))})((e=>{let l;return[].forEach.call(t,((t,o)=>{t===e&&(l=o)})),l})(l))}))})(),(()=>{const e=document.querySelector(".top-slider"),t=e.querySelectorAll(".item"),l=e.querySelectorAll(".dot"),o=e.querySelectorAll(".table");let c,r=0;t[r].classList.add("item-active"),l[r].classList.add("slick-active"),o[r].classList.add("active");const a=(e,t,l)=>{e[t].classList.remove(l)},n=(e,t,l)=>{e[t].classList.add(l)},s=()=>{a(t,r,"item-active"),a(l,r,"slick-active"),a(o,r,"active"),r++,r>=t.length&&(r=0),n(t,r,"item-active"),n(l,r,"slick-active"),n(o,r,"active")},i=(e=3e3)=>{c=setInterval(s,e)};e.addEventListener("click",(e=>{let c=e.target;c.matches(".dot")&&(a(t,r,"item-active"),a(l,r,"slick-active"),a(o,r,"active"),c.matches(".dot")&&(l.forEach(((e,t)=>{e===c&&(r=t)})),n(t,r,"item-active"),n(l,r,"slick-active"),n(o,r,"active")))})),e.addEventListener("mouseover",(()=>{event.target.matches(".dot")&&clearInterval(c)})),e.addEventListener("mouseout",(()=>{event.target.matches(".dot")&&i()})),i(3e3)})(),(()=>{const e=document.querySelector(".services-carousel"),t=e.querySelectorAll(".services-carousel__item"),l=document.querySelectorAll(".services-btn"),o=document.querySelector(".modal-callback"),c=document.querySelector(".modal-overlay");let r=0;const a=Math.floor(100/3);l.forEach((l=>{l.addEventListener("click",(l=>{let o=l.target;o.matches(".arrow-right")?r<t.length&&(++r,r>t.length-3&&(r=0),e.style.transform=`translateX(-${r*a}%)`):o.matches(".arrow-left")&&(--r,r<0&&(r=t.length-3),e.style.transform=`translateX(-${r*a}%)`)}))})),e.addEventListener("click",(e=>{e.preventDefault(),"A"===e.target.tagName&&(c.style.display="block",o.style.display="block")}))})(),(()=>{const e=document.querySelector(".button-services"),t=document.querySelector(".modal-callback"),l=document.querySelector(".modal-overlay");e.addEventListener("click",(e=>{e.preventDefault(),"A"===e.target.tagName&&(l.style.display="block",t.style.display="block")}))})(),(()=>{const e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element"),l=(e,t)=>{e.classList.remove("active"),t.classList.remove("active"),t.style.display="none"};e.addEventListener("click",(e=>{let o=e.target;if(o.classList.contains("title")){const e=o.closest(".element").querySelector(".element-content");e.classList.contains("active")?l(o,e):((e,o)=>{t.forEach((e=>{void 0!==e.children[0]&&void 0!==e.children[1]&&l(e.children[0],e.children[1])})),o.style.display="block",e.classList.add("active"),o.classList.add("active")})(o,e)}t.forEach((e=>{e.children[0].classList.contains("active")?e.classList.add("active"):e.classList.remove("active")}))}))})(),(()=>{const e=document.querySelector(".services-section"),t=document.querySelector(".toTop"),l=()=>{const l=e.getBoundingClientRect().bottom;window.pageYOffset<l?t.style.visibility="hidden":t.style.visibility="visible"},o=()=>{const e=document.documentElement.scrollTop||document.body.scrollTop;e>0&&(window.requestAnimationFrame(o),window.scrollTo(0,e-e/25))};t.addEventListener("click",(e=>{e.preventDefault(),o()})),window.addEventListener("scroll",(()=>{l()})),window.addEventListener("load",(()=>{l()}))})(),(()=>{const e=document.querySelector("form[name = form-callback]"),t=e.querySelector("input[name = fio]"),l=e.querySelector("input[name = tel]"),o=e.querySelector(".error-fio"),c=e.querySelector(".error-tel"),r=/^[А-Яа-яЁё]{2,16}$/,a=/\+?[78]\d{10}/;t.addEventListener("blur",(()=>{r.test(t.value)&&""!==t.value?(t.value=t.value.trim(),t.value=t.value.replace(/( |^)[а-яё]/g,(e=>e.toUpperCase())),t.style.cssText="border: 2px solid #E3E3E4; margin-bottom: 20px",o.textContent=""):(t.style.cssText="border: solid red; margin-bottom: 0",o.textContent="Недопустимые символы",t.value="")})),l.addEventListener("blur",(()=>{a.test(l.value)?(l.value=l.value.match(a),l.style.cssText="border: 2px solid #E3E3E4; margin-bottom: 20px",c.textContent=""):(l.style.cssText="border: solid red; margin-bottom: 0",c.textContent="Недопустимые символы",l.value="")}))})(),(()=>{const e=document.querySelector("form[name = form-callback]"),t=e.querySelectorAll(".form-control"),l=e.querySelector(".message");e.addEventListener("submit",(o=>{o.preventDefault(),l.textContent="Идет отправка ...";const c=new FormData(e);let r={};c.forEach(((e,t)=>{r[t]=e})),(e=>fetch("./server.php",{method:"POST",headrs:{"Content-Type":"application/json"},body:JSON.stringify(e)}))(r).then((e=>{if(200!==e.status)throw new Error("status network not 200");l.textContent="Отправлено!"})).catch((e=>{l.textContent="Ошибка ...",console.log(e)})),t.forEach((e=>{o.target&&(e.value="")}))}))})()})();